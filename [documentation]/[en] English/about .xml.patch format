The .xml.patch files allow patching non-translation files even if they have changed in a new viewer version.
The missing XML tags will be added at the suitable place.


=== FORMATTING THE FILE ===

Keep the whole tree above the elements you want to add, and the elements themselves. You don't need to keep any sibiling element.


=== COMMENTING AN ELEMENT ===

Insert commented version of the element. The program will update it.
Note that all matching elements at the tree location will be updated.
Alternatively, you can use the replace or remove methods (see above).


=== UNCOMMENTING AN ELEMENT ===

Insert uncommented version of the element. The program will update it.
Note that all matching elements at the tree location will be updated.
Alternatively, you can use the replace or remove methods (see above).


=== SORTING ELEMENTS ===

If you want to order a list of elements, add a sort tag after the last one you add (it will not be added to the final XML).

<sort key="[key]" prepends="[prepends]"/>
   where:
[key] is the name of the attribute that contains text to be sorted. (if you want to use text between the tags, use "_text")
[prepends] is a comma-separated list of key values whose element must not be sorted and be kept at the beginning of the list.

Comments that contain a sibling element will also be sorted just like if that sibling was not commented.
Comments that do not contain a sibling will be prepended.

For example:

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<floater>
 <combo_box allow_text_entry="true" follows="left|top" height="23" left_pad="10" max_chars="135" mouse_opaque="true" name="translate_language_combo" top_delta="-5" width="190">
  <combo_box.item label="Català (Catalan)" name="Catalan" value="ca" />
  <combo_box.item label="Français canadien (French)" name="Canadian_French" value="fr_CA" />
  <sort key="label" prepends="System Default,English"/>
 </combo_box>
</floater>

The above patch will:

1) Add "Català (Catalan)" and "Français canadien (French)" combo box items;
2) List unsorted "System Default" and "English" combo box items, as well as the comments not containing a combo box item;
3) List sorted all other combo box items by their label, including those we added and those that are commented.


[TO BE IMPLEMENTED] === REMOVING AN ELEMENT ===

Insert the element and its replacement inside a <remove></remove> tag set, for example:

<remove>
 <combo_box.item enabled="true" label="Español (Spanish) - Beta" name="Spanish" value="es"/>
</remove

Note that all matching elements at the tree location will be removed.


[TO BE IMPLEMENTED] === REPLACING AN ELEMENT ===

Insert the element and its replacement inside a <replace></replace> tag set, for example:

<replace>
 <combo_box.item enabled="true" label="日本語 (Japanese) - Beta" name="(Japanese)" value="ja"/>
 <combo_box.item enabled="true" label="日本語 (Japanese)" name="(Japanese)" value="ja"/>
</replace>

Alternatively, you can use the remove method followed by the replacement:

<remove>
 <combo_box.item enabled="true" label="日本語 (Japanese) - Beta" name="(Japanese)" value="ja"/>
</remove>
<combo_box.item enabled="true" label="日本語 (Japanese)" name="(Japanese)" value="ja"/>

Note that all matching elements at the tree location will be replaced.
