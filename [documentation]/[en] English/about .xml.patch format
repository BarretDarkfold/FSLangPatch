The .xml.patch files allow patching non-translation files even if they have changed in a new viewer version.
The missing XML tags will be added at the suitable place.


=== FORMATTING THE FILE ===

Keep the whole tree above the elements to be added, and the elements themselves. You don't need to keep any sibiling element.


=== COMMENTING AN ELEMENT ===

Insert commented version of the element. The program will update it.
Note that all matching elements at the tree location will be updated.


=== UNCOMMENTING AN ELEMENT ===

Insert uncommented version of the element. The program will update it.
Note that all matching elements at the tree location will be updated.


=== SORTING ELEMENTS IN ALPHABETICAL ORDER ===

Add a <sort> tag after the last element one to add (it will not be added to the final XML):

<sort key="[key]" prepends="[prepends]"/>
   where:
[key] is the name of the attribute that contains text to be sorted. For the text between the tags, use "_text".
[prepends] is a comma-separated list of key values whose element must not be sorted and be kept at the beginning of the list.

Comments that contain a sibling element will also be sorted just like if that element was not commented.
Comments that do not contain a sibling element will be prepended.

For example:

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<floater>
 <combo_box allow_text_entry="true" follows="left|top" height="23" left_pad="10" max_chars="135" mouse_opaque="true" name="translate_language_combo" top_delta="-5" width="190">
  <combo_box.item label="Català (Catalan)" name="Catalan" value="ca" />
  <combo_box.item label="Français canadien (French)" name="Canadian_French" value="fr_CA" />
  <sort key="label" prepends="System Default,English"/>
 </combo_box>
</floater>

The above patch will:

1) Add "Català (Catalan)" and "Français canadien (French)" combo box items;
2) List unsorted "System Default" and "English" combo box items, as well as the comments not containing a combo box item;
3) List sorted all other combo box items by their label, including those we added and those that are commented.
